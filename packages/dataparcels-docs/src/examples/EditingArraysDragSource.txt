import React from 'react';
import useParcel from 'react-dataparcels/useParcel';
import Boundary from 'react-dataparcels/Boundary';
import Drag from 'react-dataparcels/Drag';

export default function FruitListEditor(props) {

    let fruitListParcel = useParcel({
        source: () => ({
            value: [
                "Apple",
                "Banana",
                "Crumpets"
            ]
        })
    });

    return <>
        <Drag source={fruitListParcel}>
            {(fruitParcel) => <Boundary parcel={fruitParcel}>
                {(parcel) => <div>
                    <input type="text" {...parcel.spreadInput()} />
                    <button onClick={() => parcel.insertAfter(`${parcel.value} copy`)}>+</button>
                    <button onClick={() => parcel.delete()}>x</button>
                </div>}
            </Boundary>}
        </Drag>
        <button onClick={() => fruitListParcel.push("New fruit")}>Add new fruit</button>
    </>;
}
