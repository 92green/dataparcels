<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.16.1"/><style data-styled="kcTecB eIrZIb ckiAzd  kYVEKv hpCSHD iURePC gBsmQs bdjxww ieOemc NffxZ cDJmsW cYYKED gmXnoP etpsTQ hhaSnk ctmFWX jUCAMg ffiiwx fhCUjq hWQbbM gMplqS cUzaxU eMqMyb" data-styled-version="4.4.0">
/* sc-component-id: sc-global-2246408100 */
@font-face{font-family:'IcoMoon';src:url('/dataparcels/static/IcoMoon-Free-5b19fdecc1398211f539eb37dd366511.woff2') format('woff2'), url('/dataparcels/static/IcoMoon-Free-38e41af08b6215babc05c4f3161cb01d.woff') format('woff'), url('/dataparcels/static/IcoMoon-Free-a453b344567040b8c2473bb32d7e0bc3.ttf') format('truetype');} @font-face{font-family:'IcoMoonCustom';src:url('data:font/woff;base64,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') format('woff'), url('data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg+dAhMAAAC8AAAAYGNtYXD9I62PAAABHAAAAGRnYXNwAAAAEAAAAYAAAAAIZ2x5ZpuMFBgAAAGIAAABuGhlYWQWy/lHAAADQAAAADZoaGVhBwMDPgAAA3gAAAAkaG10eBwAAlUAAAOcAAAAJGxvY2EBjAIqAAADwAAAABRtYXhwAA0ASgAAA9QAAAAgbmFtZZlKCfsAAAP0AAABhnBvc3QAAwAAAAAFfAAAACAAAwQAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmAgMz/zQAzAMzAMwAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQASAAAAA4ACAACAAYAAQAg4YjiJeYC//3//wAAAAAAIOGI4iTmAf/9//8AAf/jHnwd4RoGAAMAAQAAAAAAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAwAvAY0DzgKDABIALABHAAATIicmNTQ3NjMyFxYVFAcGBwYjISInJjU0NzY3Njc2MzIXFhUUBwYHBgcGBwYhIicmNTQ3Njc2MzIXFhcWFxYVFAcGBwYHBiOqMyQkJCQzMyQlEREcHCIBVTMlJAoKEBEXFxkyJSQHBgsLEA8SEwFAMyQkERAcHCIZFxcQEQkKCgkREBcXGQGNJCQzMyQkJCQzIhwcERAkJDMZFxcQEAoKJCQzFBMTDw8LDAYGJCQzIR0cERAKChAQFxcZGRcXEBEJCgABAQMATQNfA8wABQAAJScJATcBAZ+cASP+3ZwBwE2dASMBI5z+QQAAAQCjAE0C/wPMAAUAACUJARcJAQJi/kEBv53+3QEjTQHAAb+c/t3+3QAAAAABAEAA4gPAAz8ABQAAJQkBJwkBAyP+3f7dnQHAAcDiASP+3Z0BwP5AAAAAAAEAQADbA8ADNwAFAAAlATcJARcCAP5AnQEjASOd2wG/nf7dASOdAAABAAAAAAAARDJ2cV8PPPUACwQAAAAAANnwWj8AAAAA2fBaPwAAAAADzgPMAAAACAACAAAAAAAAAAEAAAMz/zQAAAQAAAAAAAPOAAEAAAAAAAAAAAAAAAAAAAAJBAAAAAAAAAAAAAAABAAAAAQAAC8EAAEDBAAAowQAAEAEAABAAAAAAAAKABQAHgCIAJwAsgDIANwAAQAAAAkASAADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=') format('truetype');} html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;} article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;} body{line-height:1;} ol,ul{list-style:none;} blockquote,q{quotes:none;} blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;} table{border-collapse:collapse;border-spacing:0;} *{box-sizing:border-box;} html{font-family:'Merriweather',serif;height:100%;line-height:1.8em;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:14px;} @media (min-width:480px){html{font-size:16px;}} body{background-color:#ffffff;color:#233544;font-family:'Merriweather',serif;font-weight:400;height:100%;line-height:1.8em;overflow-x:hidden;text-rendering:optimizelegibility;} body[aria-hidden='true']{overflow:hidden;} button{-webkit-appearance:none;background-color:transparent;font-family:inherit;outline:none;border:none;font-size:inherit;color:inherit;} a{color:inherit;-webkit-text-decoration:none;text-decoration:none;} a:focus{outline:none;} ul{margin:0;padding:0;} ul,ol{list-style-type:none;} #___gatsby,#___gatsby > div{height:100%;}
/* sc-component-id: Layout__Box-gmb0vv-1 */
.kcTecB{display:block;height:100%;}.eIrZIb{display:block;margin-bottom:32px;}.ckiAzd{display:block;margin-bottom:16px;}
/* sc-component-id: Layout__Flex-gmb0vv-2 */
.kYVEKv{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;display:block;-webkit-align-items:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;} @media screen and (min-width:575px){.kYVEKv{display:block;}} @media screen and (min-width:720px){.kYVEKv{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}
/* sc-component-id: Link-m2w6rr-0 */
.ffiiwx{cursor:pointer;color:inherit;background-color:inherit;color:#527fd7;-webkit-text-decoration:none;text-decoration:none;} .ffiiwx:hover{color:#527fd7;-webkit-text-decoration:underline;text-decoration:underline;} .ffiiwx:focus{color:#527fd7;}
/* sc-component-id: List-b218qn-0 */
.fhCUjq{margin-top:16px;margin-bottom:32px;padding-left:1.8em;position:relative;list-style:disc;}
/* sc-component-id: List__ListItem-b218qn-1 */
ol > .hWQbbM{list-style-type:decimal;}
/* sc-component-id: Pre-bon3zz-0 */
.ctmFWX{font-family:'Roboto Mono',monospace;font-size:.8rem;line-height:1.3rem;overflow:auto;padding:1rem;background:#edf7fb;}
/* sc-component-id: Prism-sc-3we07t-0 */
.jUCAMg{font-family:'Roboto Mono',monospace;} .jUCAMg.language-cpp .token.keyword{color:#319dcd;} .jUCAMg.language-cpp .token.tag{color:#ce4133;} .jUCAMg.language-cpp .token.string,.jUCAMg.language-cpp .token.number,.jUCAMg.language-cpp .token.boolean{color:#319dcd;} .jUCAMg.language-cpp .token.comment{color:#9480a2;} .jUCAMg.language-jsx .token.keyword,.jUCAMg.language-js .token.keyword{color:#ce4133;} .jUCAMg.language-jsx .token.tag,.jUCAMg.language-js .token.tag{color:#319dcd;} .jUCAMg.language-jsx .token.string,.jUCAMg.language-js .token.string,.jUCAMg.language-jsx .token.number,.jUCAMg.language-js .token.number,.jUCAMg.language-jsx .token.boolean,.jUCAMg.language-js .token.boolean{color:#319dcd;} .jUCAMg.language-jsx .token.comment,.jUCAMg.language-js .token.comment{color:#9480a2;} .jUCAMg.language-jsx .token.script,.jUCAMg.language-js .token.script{color:#233544;} .jUCAMg.language-jsx .token.script-punctuation,.jUCAMg.language-js .token.script-punctuation{color:#319dcd;} .jUCAMg.language-flow .token.keyword,.jUCAMg.language-flow .token.function{color:#ce4133;} .jUCAMg.language-flow .token.tag{color:#319dcd;} .jUCAMg.language-flow .token.string,.jUCAMg.language-flow .token.number,.jUCAMg.language-flow .token.boolean{color:#319dcd;} .jUCAMg.language-flow .token.comment{color:#9480a2;} .jUCAMg.language-bash .token.comment{color:#9480a2;}
/* sc-component-id: Text-sc-7zuiz3-0 */
.gBsmQs{font-family:'Roboto Mono',monospace;font-size:3rem;font-weight:700;-webkit-letter-spacing:-.02em;-moz-letter-spacing:-.02em;-ms-letter-spacing:-.02em;letter-spacing:-.02em;overflow-wrap:break-word;line-height:1.2em;margin-top:32px;margin-bottom:32px;}.bdjxww{line-height:1.8em;margin-bottom:16px;}.ieOemc{font-family:'Roboto Mono',monospace;font-size:.8rem;background-color:#edf7fb;padding:.25rem;border-radius:3px;}.NffxZ{font-family:'Roboto Mono',monospace;font-size:1.5rem;font-weight:700;-webkit-letter-spacing:-.02em;-moz-letter-spacing:-.02em;-ms-letter-spacing:-.02em;letter-spacing:-.02em;overflow-wrap:break-word;line-height:1.2em;margin-top:32px;margin-bottom:32px;}.cDJmsW{font-family:'Roboto Mono',monospace;font-size:2.2rem;font-weight:700;-webkit-letter-spacing:-.02em;-moz-letter-spacing:-.02em;-ms-letter-spacing:-.02em;letter-spacing:-.02em;overflow-wrap:break-word;line-height:1.2em;margin-top:64px;margin-bottom:32px;}.cYYKED{font-family:'Roboto Mono',monospace;font-size:1rem;font-weight:700;overflow-wrap:break-word;line-height:1.2em;}.etpsTQ{font-family:'Roboto Mono',monospace;font-size:1rem;font-weight:700;overflow-wrap:break-word;line-height:1.2em;margin-top:32px;margin-bottom:32px;}.hhaSnk{color:#9faaaf;}
/* sc-component-id: NavigationList-sc-1x8abcb-0 */
.cUzaxU{font-family:font('monospace');font-size:.9rem;padding:0 1rem 1rem .5rem;}
/* sc-component-id: ContentNav__Nav-sc-4xhios-0 */
.hpCSHD{background:#ffffff;font-family:'Roboto Mono',monospace;top:0;left:0;position:fixed;width:100%;height:100vh;overflow-y:auto;z-index:200;overscroll-behavior:contain;padding:4rem 1rem 0;display:none;} @media (min-width:65rem){.hpCSHD{display:block;position:-webkit-sticky;position:sticky;width:15rem;padding:0;height:auto;top:.5rem;}}
/* sc-component-id: ContentNav__Wrapper-sc-4xhios-1 */
.iURePC{width:100%;padding:0 1rem;} @media (min-width:720px){.iURePC{width:calc(100% - 15rem);}} @media (min-width:65rem){.iURePC{width:calc(100% - 15rem - 15rem);}}
/* sc-component-id: ContentNav__PageNav-sc-4xhios-2 */
.gMplqS{background:#ffffff;font-family:'Roboto Mono',monospace;top:0;left:0;position:fixed;width:100%;height:100vh;overflow-y:auto;z-index:200;overscroll-behavior:contain;padding:4rem 1rem 0;display:none;} @media (min-width:720px){.gMplqS{display:block;position:-webkit-sticky;position:sticky;width:15rem;padding:0;height:auto;top:.5rem;}}</style><link as="script" rel="preload" href="/dataparcels/webpack-runtime-3961b44b5da458f56633.js"/><link as="script" rel="preload" href="/dataparcels/app-63db54b5b2b52cca2783.js"/><link as="script" rel="preload" href="/dataparcels/commons-856fb5e336d23f38b223.js"/><link as="script" rel="preload" href="/dataparcels/component---src-pages-api-validation-jsx-4f39517d6b342b8c2e92.js"/><link as="fetch" rel="preload" href="/dataparcels/page-data/api/validation/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div height="100%" class="Layout__Box-gmb0vv-1 kcTecB"><link href="https://fonts.googleapis.com/css?family=Roboto+Mono|Merriweather" rel="stylesheet"/><div display="block,block,flex" class="Layout__Flex-gmb0vv-2 kYVEKv"><nav class="ContentNav__Nav-sc-4xhios-0 hpCSHD">Dataparcels<!-- -->/<!-- --># API<!-- --># Hooks<!-- -->useParcelForm<!-- -->/api/useParcelForm<!-- -->useParcelState<!-- -->/api/useParcelState<!-- -->useParcelBuffer<!-- -->/api/useParcelBuffer<!-- --># Classes<!-- -->Parcel<!-- -->/api/Parcel<!-- -->ChangeRequest<!-- -->/api/ChangeRequest<!-- -->ParcelNode<!-- -->/api/ParcelNode<!-- --># Components<!-- -->ParcelBoundary<!-- -->/api/ParcelBoundary<!-- -->ParcelDrag<!-- -->/api/ParcelDrag<!-- --># Plugins &amp; utilities<!-- -->validation<!-- -->/api/validation<!-- -->cancel<!-- -->/api/cancel</nav><div class="ContentNav__Wrapper-sc-4xhios-1 iURePC"><h1 id="validation" class="Text-sc-7zuiz3-0 gBsmQs">validation</h1><div class="gatsby-highlight" data-language="js"><div class="Layout__Box-gmb0vv-1 eIrZIb"><pre class="Pre-bon3zz-0 ctmFWX"><code class="Prism-sc-3we07t-0 jUCAMg language-js"><span class="token keyword">import</span> validation <span class="token keyword">from</span> <span class="token string">&#x27;dataparcels/validation&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> validation <span class="token keyword">from</span> <span class="token string">&#x27;react-dataparcels/validation&#x27;</span><span class="token punctuation">;</span></code></pre></div></div><p class="Text-sc-7zuiz3-0 bdjxww">Dataparcels&#x27; validation plugin provides an easy way to test whether data conforms to a set of validation rules. This is most useful when <a href="/dataparcels/ui-behaviour#Validation-on-user-input" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">checking if user input is correct before allowing changes to be submitted</a>.</p><p class="Text-sc-7zuiz3-0 bdjxww">Once configured, it provides function that can be run against Parcel data, and it will set <a href="/dataparcels/parcel-meta" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">Parcel meta</a> wherever data is invalid, and also block any <code class="Text-sc-7zuiz3-0 ieOemc">submit()</code> actions unless all data is valid.</p><h3 id="example-usage" class="Text-sc-7zuiz3-0 NffxZ">Example usage</h3><p class="Text-sc-7zuiz3-0 bdjxww">Please refer to the UI Behaviour page to see <a href="/dataparcels/ui-behaviour#Validation-on-user-input" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">a full example</a>.</p><div class="gatsby-highlight" data-language="js"><div class="Layout__Box-gmb0vv-1 eIrZIb"><pre class="Pre-bon3zz-0 ctmFWX"><code class="Prism-sc-3we07t-0 jUCAMg language-js"><span class="token keyword">let</span> <span class="token punctuation">[</span>parcel<span class="token punctuation">,</span> parcelControl<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useParcelForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    value<span class="token punctuation">,</span>
    <span class="token function-variable function">beforeChange</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">validation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string">&#x27;name&#x27;</span><span class="token punctuation">:</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> value <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Name must not be blank</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token string">&#x27;animals.*.type&#x27;</span><span class="token punctuation">:</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> value <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Animal type must not be blank</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token string">&#x27;animals.*.amount&#x27;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token parameter">value</span> <span class="token operator">=&gt;</span> Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Animal type must be a whole number</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token parameter">value</span> <span class="token operator">=&gt;</span> value <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Animal type must be positive</span><span class="token template-punctuation string">`</span></span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// ^ run validator before data updates</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// parcel.get(&#x27;name&#x27;).meta.invalid will contain `Name must not be blank` if it is blank, or null otherwise</span>
<span class="token comment">// parcel.meta.valid will contain true if all validation rules pass, or false otherwise</span>
<span class="token comment">// parcelControl.submit() will only work if all validation rules pass</span></code></pre></div></div><h2 id="arguments" class="Text-sc-7zuiz3-0 cDJmsW">Arguments</h2><div class="gatsby-highlight" data-language="flow"><div class="Layout__Box-gmb0vv-1 eIrZIb"><pre class="Pre-bon3zz-0 ctmFWX"><code class="Prism-sc-3we07t-0 jUCAMg language-flow"><span class="token function">validation</span><span class="token punctuation">(</span>validationRuleMap<span class="token punctuation">:</span> ValidationRuleMap<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ParcelUpdater<span class="token punctuation">;</span>

<span class="token keyword">type</span> ValidationRuleMap <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>matchPath<span class="token punctuation">:</span> <span class="token type tag">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> ValidationRule<span class="token operator">|</span>ValidationRule<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token function-variable function">ValidationRule</span> <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token type tag">any</span><span class="token punctuation">,</span> keyPath<span class="token punctuation">:</span> Array<span class="token operator">&lt;</span><span class="token type tag">number</span><span class="token operator">|</span><span class="token type tag">string</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> topLevelValue<span class="token punctuation">:</span> <span class="token type tag">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token type tag">any</span><span class="token punctuation">;</span></code></pre></div></div><p class="Text-sc-7zuiz3-0 bdjxww">The <code class="Text-sc-7zuiz3-0 ieOemc">validation</code> function requires a single argument, a validation rule map.</p><ul class="List-b218qn-0 fhCUjq"><li class="List__ListItem-b218qn-1 hWQbbM"><div class="Layout__Box-gmb0vv-1 ckiAzd"><span class="Text-sc-7zuiz3-0 cYYKED">validationRuleMap</span> <span class="Text-sc-7zuiz3-0 gmXnoP">: <!-- -->Object<!-- --> </span></div>A validationRuleMap is an object containing strings for keys and functions, or arrays of functions as values.</li></ul><h3 id="match-paths" class="Text-sc-7zuiz3-0 NffxZ">Match paths</h3><p class="Text-sc-7zuiz3-0 bdjxww">Match paths are strings that indicate which parts of the Parcel&#x27;s data shape to run the associated validation rule(s) against. Dots (<code class="Text-sc-7zuiz3-0 ieOemc">.</code>) indicate nested properties, and asterisks (<code class="Text-sc-7zuiz3-0 ieOemc">*</code>) indicate wildcards.</p><ul class="List-b218qn-0 fhCUjq"><li class="List__ListItem-b218qn-1 hWQbbM"><code class="Text-sc-7zuiz3-0 ieOemc">name</code> matches a property called <code class="Text-sc-7zuiz3-0 ieOemc">name</code></li><li class="List__ListItem-b218qn-1 hWQbbM"><code class="Text-sc-7zuiz3-0 ieOemc">animals.*</code> matches all elements of a property called <code class="Text-sc-7zuiz3-0 ieOemc">animals</code></li><li class="List__ListItem-b218qn-1 hWQbbM"><code class="Text-sc-7zuiz3-0 ieOemc">animals.*.type</code> matches all properties called <code class="Text-sc-7zuiz3-0 ieOemc">type</code> on all elements of a property called <code class="Text-sc-7zuiz3-0 ieOemc">animals</code></li></ul><h3 id="validation-rules" class="Text-sc-7zuiz3-0 NffxZ">Validation rules</h3><p class="Text-sc-7zuiz3-0 bdjxww">Validation rules are functions that should return something if the data being validates is invalid. Usually this is a string describing why the data is invalid, which can be rendered in the form.</p><p class="Text-sc-7zuiz3-0 bdjxww">If the data is valid, <code class="Text-sc-7zuiz3-0 ieOemc">null</code> should be returned.</p><h4 id="validation-rules-arguments" class="Text-sc-7zuiz3-0 etpsTQ">Validation rules arguments</h4><ul class="List-b218qn-0 fhCUjq"><li class="List__ListItem-b218qn-1 hWQbbM"><div class="Layout__Box-gmb0vv-1 ckiAzd"><span class="Text-sc-7zuiz3-0 cYYKED">value</span> <span class="Text-sc-7zuiz3-0 gmXnoP">: <!-- -->any<!-- --> </span></div>The value to be validated, which will be called on each piece of data matched by the match path.</li><li class="List__ListItem-b218qn-1 hWQbbM"><div class="Layout__Box-gmb0vv-1 ckiAzd"><span class="Text-sc-7zuiz3-0 cYYKED">keyPath</span> <span class="Text-sc-7zuiz3-0 gmXnoP">: <!-- -->any[]<!-- --> </span></div>The current key path.</li><li class="List__ListItem-b218qn-1 hWQbbM"><div class="Layout__Box-gmb0vv-1 ckiAzd"><span class="Text-sc-7zuiz3-0 cYYKED">topLevelValue</span> <span class="Text-sc-7zuiz3-0 gmXnoP">: <!-- -->any<!-- --> </span></div>The top level value of the Parcel who the validator is being run against.</li></ul><h2 id="returns" class="Text-sc-7zuiz3-0 cDJmsW">Returns</h2><p class="Text-sc-7zuiz3-0 bdjxww">The <code class="Text-sc-7zuiz3-0 ieOemc">validation</code> function returns a <code class="Text-sc-7zuiz3-0 ieOemc">ParcelUpdater</code> function, which is most suitable to be passed into <a href="/dataparcels/api/useParcelForm#beforeUpdate" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">useParcelForm.beforeUpdate</a>, <a href="/dataparcels/api/useParcelBuffer#beforeUpdate" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">useParcelBuffer.beforeUpdate</a> or <a href="/dataparcels/api/useParcelState#beforeUpdate" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">useParcelState.beforeUpdate</a>.</p><p class="Text-sc-7zuiz3-0 bdjxww">This returned function is often used with <a href="/dataparcels/api/useParcelForm#validation" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">useParcelForm</a>.</p><h2 id="meta" class="Text-sc-7zuiz3-0 cDJmsW">Meta</h2><p class="Text-sc-7zuiz3-0 bdjxww">This validation plugin sets the following meta:</p><ul class="List-b218qn-0 fhCUjq"><li class="List__ListItem-b218qn-1 hWQbbM"><div class="Layout__Box-gmb0vv-1 ckiAzd"><span class="Text-sc-7zuiz3-0 cYYKED">${top level}.meta.valid</span> <span class="Text-sc-7zuiz3-0 gmXnoP">: <!-- -->boolean<!-- --> </span></div>A boolean on the top level parcel indicating if the entire form is valid.</li><li class="List__ListItem-b218qn-1 hWQbbM"><div class="Layout__Box-gmb0vv-1 ckiAzd"><span class="Text-sc-7zuiz3-0 cYYKED">${top level}.meta.invalidList</span> <span class="Text-sc-7zuiz3-0 gmXnoP">: <!-- -->Array<!-- --> </span></div>An array on the top level parcel containing the error outputs of all invalid fields.</li><li class="List__ListItem-b218qn-1 hWQbbM"><div class="Layout__Box-gmb0vv-1 ckiAzd"><span class="Text-sc-7zuiz3-0 cYYKED">${top level}.meta.showInvalid</span> <span class="Text-sc-7zuiz3-0 gmXnoP">: <!-- -->boolean<!-- --> </span></div>A boolean that describes if invalid fields are being processed. Invalid fields are not processed until first attempted submit, then they are processed every time data changes.</li><li class="List__ListItem-b218qn-1 hWQbbM"><div class="Layout__Box-gmb0vv-1 ckiAzd"><span class="Text-sc-7zuiz3-0 cYYKED">${each field}.meta.invalid</span> <span class="Text-sc-7zuiz3-0 gmXnoP">: <!-- -->any<!-- --> </span></div>On each validated field, `meta.invalid` will contain the result of the validation rule.</li></ul><p class="Text-sc-7zuiz3-0 bdjxww">An example of how this meta can be used <a href="/dataparcels/ui-behaviour#Validation-on-user-input" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">can be found here</a>.</p></div><div class="ContentNav__PageNav-sc-4xhios-2 gMplqS"><ul class="NavigationList-sc-1x8abcb-0 cUzaxU"><li class="NavigationList__NavigationListItem-sc-1x8abcb-1 eMqMyb"><span class="Text-sc-7zuiz3-0 hhaSnk">On this page</span></li></ul><ul class="NavigationList-sc-1x8abcb-0 cUzaxU"><li class="NavigationList__NavigationListItem-sc-1x8abcb-1 eMqMyb"><span class="Text-sc-7zuiz3-0 hhaSnk">validation</span></li><li class="NavigationList__NavigationListItem-sc-1x8abcb-1 eMqMyb"><a href="#arguments" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">Arguments</a></li><li class="NavigationList__NavigationListItem-sc-1x8abcb-1 eMqMyb"><a href="#match-paths" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">Match paths</a></li><li class="NavigationList__NavigationListItem-sc-1x8abcb-1 eMqMyb"><a href="#validation-rules" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">Validation rules</a></li><li class="NavigationList__NavigationListItem-sc-1x8abcb-1 eMqMyb"><a href="#returns" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">Returns</a></li><li class="NavigationList__NavigationListItem-sc-1x8abcb-1 eMqMyb"><a href="#meta" class="Clickable-ka2glj-0 Link-m2w6rr-0 ffiiwx">Meta</a></li></ul></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/api/validation/";window.webpackCompilationHash="d1bcf7ad7f3c85559aab";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-63db54b5b2b52cca2783.js"],"component---src-pages-404-js":["/component---src-pages-404-js-a5bdb73e55d82d603b72.js"],"component---src-pages-api-cancel-jsx":["/component---src-pages-api-cancel-jsx-f2d1750db6424a708134.js"],"component---src-pages-api-change-request-jsx":["/component---src-pages-api-change-request-jsx-486c03ff33ba5406b5ca.js"],"component---src-pages-api-parcel-jsx":["/component---src-pages-api-parcel-jsx-d83f7aeeaa0027eb8ab9.js"],"component---src-pages-api-parcel-boundary-jsx":["/component---src-pages-api-parcel-boundary-jsx-0e5eb83e2ef4430be7f6.js"],"component---src-pages-api-parcel-drag-jsx":["/component---src-pages-api-parcel-drag-jsx-5b6b7bdd46195c0e77e5.js"],"component---src-pages-api-parcel-node-jsx":["/component---src-pages-api-parcel-node-jsx-d61fb2387a933dc46245.js"],"component---src-pages-api-use-parcel-buffer-jsx":["/component---src-pages-api-use-parcel-buffer-jsx-3e9480eb66a82dd9f831.js"],"component---src-pages-api-use-parcel-form-jsx":["/component---src-pages-api-use-parcel-form-jsx-339ef695b73b0b45bf39.js"],"component---src-pages-api-use-parcel-state-jsx":["/component---src-pages-api-use-parcel-state-jsx-2f35adb5e78d70d6fd88.js"],"component---src-pages-api-validation-jsx":["/component---src-pages-api-validation-jsx-4f39517d6b342b8c2e92.js"],"component---src-pages-index-js":["/component---src-pages-index-js-aee0aef4b327f976b1cd.js"]};/*]]>*/</script><script src="/dataparcels/component---src-pages-api-validation-jsx-4f39517d6b342b8c2e92.js" async=""></script><script src="/dataparcels/commons-856fb5e336d23f38b223.js" async=""></script><script src="/dataparcels/app-63db54b5b2b52cca2783.js" async=""></script><script src="/dataparcels/webpack-runtime-3961b44b5da458f56633.js" async=""></script></body></html>