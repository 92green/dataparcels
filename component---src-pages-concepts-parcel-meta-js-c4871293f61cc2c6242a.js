(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{385:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),s=t(369),p=t(368),o=t(9),m=t.n(o),b=t(69),r=t.n(b),N=t(79),l=(t(398),{_frontmatter:{}}),i="wrapper";function u(e){var a=e.components,t=r()(e,["components"]);return Object(N.b)(i,m()({},l,t,{components:a,mdxType:"MDXLayout"}),Object(N.b)("h1",{id:"parcel-meta"},"Parcel meta"),Object(N.b)("p",null,"Parcel meta provides the ability to store extra data that pertains to parts of a data shape, such as validation error messages against each of the fields in a form. Each location (unique key path) in a Parcel's value has a corresponding meta object, which defaults to an empty object."),Object(N.b)("div",{className:"gatsby-highlight","data-language":"js"},Object(N.b)("pre",m()({parentName:"div"},{className:"language-js"}),Object(N.b)("code",m()({parentName:"pre"},{className:"language-js"}),Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"let")," parcel ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"=")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"new")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token class-name"}),"Parcel"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"\n    value",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"\n        abc",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token number"}),"123"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),","),"\n        def",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ghi",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token number"}),"456"),"\n        ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(N.b)("span",m()({parentName:"code"},{className:"token comment"}),"// the value above has four locations where meta can be stored:"),"\nparcel",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),"meta ",Object(N.b)("span",m()({parentName:"code"},{className:"token comment"}),"// returns the meta data object on the top level parcel"),"\nparcel",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"get"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'abc'"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),"meta ",Object(N.b)("span",m()({parentName:"code"},{className:"token comment"}),"// returns the meta data object at ['abc']"),"\nparcel",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"get"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'def'"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),"meta ",Object(N.b)("span",m()({parentName:"code"},{className:"token comment"}),"// returns the meta data object at ['def']"),"\nparcel",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"get"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'def'"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"get"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'ghi'"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),"meta ",Object(N.b)("span",m()({parentName:"code"},{className:"token comment"}),"// returns the meta data object at ['def', 'ghi']")))),Object(N.b)("p",null,"There are three main ways to interact with meta on a Parcel:"),Object(N.b)("ul",null,Object(N.b)("li",{parentName:"ul"},"The ",Object(N.b)("a",m()({parentName:"li"},{href:"/dataparcels/api/Parcel#meta"}),"meta")," property"),Object(N.b)("li",{parentName:"ul"},"The ",Object(N.b)("a",m()({parentName:"li"},{href:"/dataparcels/api/Parcel#setMeta()"}),"setMeta()")," method"),Object(N.b)("li",{parentName:"ul"},"The ",Object(N.b)("a",m()({parentName:"li"},{href:"/dataparcels/api/Parcel#initialMeta()"}),"initialMeta()")," method")),Object(N.b)("p",null,"Meta is set using a Parcel's ",Object(N.b)("a",m()({parentName:"p"},{href:"/dataparcels/api/Parcel#setMeta()"}),"setMeta()")," method, which triggers a change that sets ",Object(N.b)("inlineCode",{parentName:"p"},"meta")," at the parcel's location."),Object(N.b)("div",{className:"gatsby-highlight","data-language":"js"},Object(N.b)("pre",m()({parentName:"div"},{className:"language-js"}),Object(N.b)("code",m()({parentName:"pre"},{className:"language-js"}),Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"let")," parcel ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"=")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"new")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token class-name"}),"Parcel"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"\n    value",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),'"abc"'),"\n",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n\nparcel",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"setMeta"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"\n    abc",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token number"}),"123"),"\n",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(N.b)("span",m()({parentName:"code"},{className:"token comment"}),"// ^ this triggers a change that sets the parcel's meta to {abc: 123}"),"\n\nparcel",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"setMeta"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"\n    def",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token number"}),"456"),"\n",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(N.b)("span",m()({parentName:"code"},{className:"token comment"}),"// ^ this triggers a change that sets the parcel's meta to {abc: 123, def: 456}")))),Object(N.b)("p",null,"The ",Object(N.b)("a",m()({parentName:"p"},{href:"/dataparcels/api/Parcel#initialMeta()"}),"initialMeta()")," method can also be used to set the initial meta object."),Object(N.b)("div",{className:"gatsby-highlight","data-language":"js"},Object(N.b)("pre",m()({parentName:"div"},{className:"language-js"}),Object(N.b)("code",m()({parentName:"pre"},{className:"language-js"}),Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"let")," parcel ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"=")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"new")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token class-name"}),"Parcel"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"\n    value",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),'"abc"'),"\n",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n\nparcel\n    ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"initialMeta"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"\n        abc",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token number"}),"123"),"\n    ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),"meta ",Object(N.b)("span",m()({parentName:"code"},{className:"token comment"}),"// this returns {abc: 123} initially, but this can change after subsequent calls to setMeta()")))),Object(N.b)("h2",{id:"examples"},"Examples"),Object(N.b)("p",null,"See the ",Object(N.b)("strong",{parentName:"p"},Object(N.b)("a",m()({parentName:"strong"},{href:"/dataparcels/ui-behaviour#Confirmation"}),"confirmation"))," and ",Object(N.b)("strong",{parentName:"p"},Object(N.b)("a",m()({parentName:"strong"},{href:"/dataparcels/ui-behaviour#Selections"}),"selections"))," examples to see how meta can be used."),Object(N.b)("h3",{id:"displaying-changed-values"},"Displaying changed values"),Object(N.b)("p",null,"Additionally, this example shows how ",Object(N.b)("inlineCode",{parentName:"p"},"meta")," and ",Object(N.b)("inlineCode",{parentName:"p"},"initialMeta()")," can be used to store information in meta for later reference."),Object(N.b)("div",{className:"gatsby-highlight","data-language":"jsx"},Object(N.b)("pre",m()({parentName:"div"},{className:"language-jsx"}),Object(N.b)("code",m()({parentName:"pre"},{className:"language-jsx"}),Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"import")," React ",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"from")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'react'"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"import")," useParcelState ",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"from")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'react-dataparcels/useParcelState'"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"import")," ParcelBoundary ",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"from")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'react-dataparcels/ParcelBoundary'"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"const")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token function-variable function"}),"withOriginalMeta")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"=")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token parameter"}),"parcel"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"=>")," parcel",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"initialMeta"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"\n    original",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," parcel",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),"value\n",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"export")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"default")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"function")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"PersonEditor"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token parameter"}),"props"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"\n\n    ",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"let")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"["),"personParcel",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"=")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"useParcelState"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"\n        value",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"\n            firstname",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),'"Robert"'),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),","),"\n            lastname",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),'"Clamps"'),"\n        ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n\n    ",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"let")," firstname ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"=")," personParcel\n        ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"get"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'firstname'"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),"\n        ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"pipe"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),"withOriginalMeta",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n\n    ",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"let")," lastname ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"=")," personParcel\n        ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"get"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'lastname'"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),"\n        ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"pipe"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),"withOriginalMeta",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n\n    ",Object(N.b)("span",m()({parentName:"code"},{className:"token keyword"}),"return")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"<"),"div"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"\n        "),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"<"),"label"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"firstname"),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"</"),"label"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"\n        "),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"<"),Object(N.b)("span",m()({parentName:"span"},{className:"token class-name"}),"ParcelBoundary"))," ",Object(N.b)("span",m()({parentName:"span"},{className:"token attr-name"}),"parcel"),Object(N.b)("span",m()({parentName:"span"},{className:"token script language-javascript"}),Object(N.b)("span",m()({parentName:"span"},{className:"token script-punctuation punctuation"}),"="),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"{"),"firstname",Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"}")),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"\n            "),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token parameter"}),"firstname"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"=>")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"<"),"div"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),'\n                <input type="text" '),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"..."),"firstname",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"spreadDOM"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"})," />\n                "),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"<"),"div"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"Changed? "),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"firstname",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),"meta",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),"original ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"===")," firstname",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),"value ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"?")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'No'")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'Yes'"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"</"),"div"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"\n            "),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"</"),"div"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"\n        "),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"</"),Object(N.b)("span",m()({parentName:"span"},{className:"token class-name"}),"ParcelBoundary")),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"\n\n        "),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"<"),"label"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"lastname"),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"</"),"label"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"\n        "),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"<"),Object(N.b)("span",m()({parentName:"span"},{className:"token class-name"}),"ParcelBoundary"))," ",Object(N.b)("span",m()({parentName:"span"},{className:"token attr-name"}),"parcel"),Object(N.b)("span",m()({parentName:"span"},{className:"token script language-javascript"}),Object(N.b)("span",m()({parentName:"span"},{className:"token script-punctuation punctuation"}),"="),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"{"),"lastname",Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"}")),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"\n            "),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token parameter"}),"lastname"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"=>")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"<"),"div"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),'\n                <input type="text" '),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"..."),"lastname",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),Object(N.b)("span",m()({parentName:"code"},{className:"token function"}),"spreadDOM"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"("),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),")"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),' />\n                <div">Changed? '),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"{"),"lastname",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),"meta",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),"original ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"===")," lastname",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"."),"value ",Object(N.b)("span",m()({parentName:"code"},{className:"token operator"}),"?")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'No'")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),":")," ",Object(N.b)("span",m()({parentName:"code"},{className:"token string"}),"'Yes'"),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"</"),"div"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),"\n            ",Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"</"),"div"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"\n        "),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"</"),Object(N.b)("span",m()({parentName:"span"},{className:"token class-name"}),"ParcelBoundary")),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token plain-text"}),"\n    "),Object(N.b)("span",m()({parentName:"code"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token tag"}),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),"</"),"div"),Object(N.b)("span",m()({parentName:"span"},{className:"token punctuation"}),">")),Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(N.b)("span",m()({parentName:"code"},{className:"token punctuation"}),"}"),"\n"))),Object(N.b)("h3",{id:"whats-going-on"},"What's going on"),Object(N.b)("ul",null,Object(N.b)("li",{parentName:"ul"},"The ",Object(N.b)("inlineCode",{parentName:"li"},"firstname")," and ",Object(N.b)("inlineCode",{parentName:"li"},"lastname")," parcels use the ",Object(N.b)("a",m()({parentName:"li"},{href:"/dataparcels/api/Parcel#pipe"}),"pipe()")," method, which simply passes each parcel through the ",Object(N.b)("inlineCode",{parentName:"li"},"withOriginalMeta")," function and calls the ",Object(N.b)("a",m()({parentName:"li"},{href:"/dataparcels/api/Parcel#initialMeta"}),"initialMeta()")," function on each of them."),Object(N.b)("li",{parentName:"ul"},Object(N.b)("inlineCode",{parentName:"li"},"initialMeta()")," gets the initial value of the parcel and stores it in ",Object(N.b)("inlineCode",{parentName:"li"},"meta.original")),Object(N.b)("li",{parentName:"ul"},"When rendering, ",Object(N.b)("inlineCode",{parentName:"li"},"meta.original")," is compared against the current ",Object(N.b)("inlineCode",{parentName:"li"},"value")," to detect changes of the value since the initial render.")))}u.isMDXComponent=!0;var d=t(370);a.default=function(){return c.a.createElement(s.a,null,c.a.createElement(p.b,{pageTop:!0,pageBottom:!0,mdxHeading:!0,nav:d.b,pageNav:["# Parcel Meta","Examples"]},c.a.createElement(u,null)))}},398:function(e,a){e.exports="import React from 'react';\nimport useParcelState from 'react-dataparcels/useParcelState';\nimport ParcelBoundary from 'react-dataparcels/ParcelBoundary';\n\nconst withOriginalMeta = (parcel) => parcel.initialMeta({\n    original: parcel.value\n});\n\nexport default function PersonEditor(props) {\n\n    let [personParcel] = useParcelState({\n        value: {\n            firstname: \"Robert\",\n            lastname: \"Clamps\"\n        }\n    });\n\n    let firstname = personParcel\n        .get('firstname')\n        .pipe(withOriginalMeta);\n\n    let lastname = personParcel\n        .get('lastname')\n        .pipe(withOriginalMeta);\n\n    return <div>\n        <label>firstname</label>\n        <ParcelBoundary parcel={firstname}>\n            {(firstname) => <div>\n                <input type=\"text\" {...firstname.spreadDOM()} />\n                <div>Changed? {firstname.meta.original === firstname.value ? 'No' : 'Yes'}</div>\n            </div>}\n        </ParcelBoundary>\n\n        <label>lastname</label>\n        <ParcelBoundary parcel={lastname}>\n            {(lastname) => <div>\n                <input type=\"text\" {...lastname.spreadDOM()} />\n                <div\">Changed? {lastname.meta.original === lastname.value ? 'No' : 'Yes'}</div>\n            </div>}\n        </ParcelBoundary>\n    </div>;\n}\n"}}]);
//# sourceMappingURL=component---src-pages-concepts-parcel-meta-js-c4871293f61cc2c6242a.js.map